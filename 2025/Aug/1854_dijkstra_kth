#include <iostream>
#include <vector>
#include <queue>
using namespace std;

int main() {
	int n, m, k;
	cin >> n >> m >> k;
	
	vector<pair<int, int>> edges[1001];
	
	for (int i = 0; i < m; i++) {
		int a, b, c;
		cin >> a >> b >> c;
		edges[a].push_back({ b,c });
	}
	
	priority_queue<int> dist[1001]; // 거리를 최대 힙으로 저장
	dist[1].push(0);
	
	priority_queue<pair<int, int>, vector<pair<int, int>>, greater<>> pq;
	pq.push({0, 1});
	
	while (!pq.empty()) {
		int currDist = pq.top().first;
		int currCity = pq.top().second;
		pq.pop();
		
		for (pair<int, int> next: edges[currCity]) {
			int nextCity = next.first;
			int nextDist = next.second + currDist;
			
			// k개 이하면 무조건 넣음
			if (dist[nextCity].size() < k) {
				dist[nextCity].push(nextDist);
				pq.push({nextDist, nextCity});
			}
			// 기존값보다 작으면 넣음
			else if (dist[nextCity].top() > nextDist) {
				dist[nextCity].pop();
				dist[nextCity].push(nextDist);
				pq.push({nextDist, nextCity});
			}
		}
	}
	
	for (int i = 1; i <= n; i++) {
		// k개 이하면 k번째 최단경로 존재 x
		if (dist[i].size() < k) cout << "-1\n";
		// 작은 수부터 k개 넣으니 마지막 수가 k번째
		else cout << dist[i].top() << "\n";
	}
}
